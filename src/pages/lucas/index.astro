---
const baseDate = new Date('2024-10-18');
baseDate.setHours(0, 0, 0, 0);

function daysBetween(date1, date2) {
    const one_day = 1000 * 60 * 60 * 24;
    const date1_ms = date1.getTime();
    const date2_ms = date2.getTime();
    const difference_ms = date2_ms - date1_ms;
    return Math.round(difference_ms / one_day);
}

const newDate = new Date();
newDate.setHours(0, 0, 0, 0)

const delay = daysBetween(baseDate, newDate);
---

<html lang="fr">
<head>
    <title>Lucas <3 Fifa</title>
</head>
<body>
<div>
    Nombre de jours sans Lucas
</div>
<div id="delay" data-delay={delay}>{delay}</div>
</body>
</html>

<style>
    div {
        text-align: center;
        font-size: 5em;
        margin-top: 40px;
    }
</style>

<script>
    // Import npm modules.
    import confetti from 'canvas-confetti';

    const delay = document.getElementById('delay').getAttribute('data-delay')

    if (delay === "0") {
        setInterval(() => {
            confetti();
        }, 1500);
    }
</script>

